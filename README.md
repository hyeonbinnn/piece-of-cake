# ğŸ° Piece of Cake
![ì¼€ì´í¬](https://github.com/hyeonbinnn/piece-of-cake/assets/117449788/fc7d2199-61c4-4a5b-922b-671964f57bed)

<br>
<br>
<br>

## ëª©ì°¨
- [í”„ë¡œì íŠ¸ ì •ë³´](#í”„ë¡œì íŠ¸-ì •ë³´)
- [í´ë” êµ¬ì¡°](#í´ë”-êµ¬ì¡°)
- [ì‚¬ìš© ê¸°ìˆ ](#ì‚¬ìš©-ê¸°ìˆ )
- [êµ¬í˜„ ê¸°ëŠ¥](#êµ¬í˜„-ê¸°ëŠ¥)
- [íŠ¸ëŸ¬ë¸” ìŠˆíŒ…](#íŠ¸ëŸ¬ë¸”-ìŠˆíŒ…)

<br>
<br>
<br>

## í”„ë¡œì íŠ¸ ì •ë³´
### ğŸ° Piece of Cake ë²¤ë”©ë¨¸ì‹ 
>**êµ¬í˜„ ê¸°ê°„ : 2024.04.28 ~ 2024.04.30** <br>
>
>**ë°°í¬ ì‚¬ì´íŠ¸ :**  <strong>[ë°°í¬ URL ë°”ë¡œê°€ê¸°](https://piece-of-cake-store.netlify.app/)</strong>

<br>
<br>
<br>

## í´ë” êµ¬ì¡°
```
ğŸ° PIECE-OF-CAKE
â”œâ”€ ğŸ“¦ public
â”œâ”€ ğŸ“¦ src
â”‚  â”œâ”€ ğŸ“‚ assets
â”‚  â”œâ”€ ğŸ“‚ components
â”‚  â”‚  â”œâ”€ ğŸ“‚ Button
â”‚  â”‚  â”œâ”€ ğŸ“‚ Cake
â”‚  â”‚  â”œâ”€ ğŸ“‚ Cart
â”‚  â”‚  â”œâ”€ ğŸ“‚ Header
â”‚  â”‚  â”œâ”€ ğŸ“‚ Modal
â”‚  â”‚  â”œâ”€ ğŸ“‚ Section
â”‚  â”‚  â”œâ”€ ğŸ“‚ Slider
â”‚  â”‚  â”œâ”€ ğŸ“‚ User
â”‚  â”‚  â””â”€ ğŸ“‚ Wallet
â”‚  â”œâ”€ ğŸ“‚ data
â”‚  â”œâ”€ ğŸ“‚ hooks
â”‚  â”œâ”€ ğŸ“‚ pages
â”‚  â”‚  â”œâ”€ ğŸ“‚ ErrorPage
â”‚  â”‚  â”œâ”€ ğŸ“‚ MainPage
â”‚  â”‚  â””â”€ ğŸ“‚ StartPage
â”‚  â”œâ”€ ğŸ“‚ state
â”‚  â”‚  â”œâ”€ ğŸ“‚ atoms
â”‚  â”‚  â””â”€ ğŸ“‚ selectors
â”‚  â”œâ”€ ğŸ“‚ styles
â”‚  â”œâ”€ ğŸ“‚ types
|  â”œâ”€ ğŸ“œ App.tsx
|  â””â”€ ğŸ“œ index.tsx
```

<br>
<br>
<br>

## ì‚¬ìš© ê¸°ìˆ 
#### [ FrontEnd ]
<div>
<img src="https://img.shields.io/badge/typescript-3178C6?style=square&logo=typescript&logoColor=white">
<img src="https://img.shields.io/badge/React-61DAFB?style=square&logo=react&logoColor=black">
<img src="https://img.shields.io/badge/Recoil-3578E5?style=square&logo=recoil&logoColor=white">
<img src="https://img.shields.io/badge/Styled Components-DB7093?style=square&logo=styled components&logoColor=white">
</div>

<br>

#### [ Version ]
```
"react": "^18.2.0",
"react-dom": "^18.2.0",
"react-hook-form": "^7.51.4",
"react-router-dom": "^6.23.0",
"react-scripts": "5.0.1",
"recoil": "^0.7.7",
"styled-components": "^6.1.8",
"styled-reset": "^4.5.2",
"typescript": "^4.9.5",
"web-vitals": "^2.1.4"
```

<br>
<br>
<br>

## êµ¬í˜„ ê¸°ëŠ¥
|   ì´ˆê¸° í™”ë©´   |   ë©”ë‰´ì–¼ ëª¨ë‹¬  |
| :---------: | :---------: |
| ![ë©”ì¸](https://github.com/hyeonbinnn/piece-of-cake/assets/117449788/2593d3ca-6159-4332-aa52-0279f5817b39) | ![ë©”ë‰´ì–¼](https://github.com/hyeonbinnn/piece-of-cake/assets/117449788/667b91dd-da61-4cc3-b91c-921d5b96067a) |
<br>

|  ì†Œì§€ê¸ˆ ì¶©ì „ |  ì…ê¸ˆì•¡ ì¶©ì „   |
|:---------: | :---------: |
| ![ì†Œì§€ê¸ˆ](https://github.com/hyeonbinnn/piece-of-cake/assets/117449788/508bfb65-3e46-4f14-9dbe-a8eacee00ce2) | ![ì…ê¸ˆì•¡](https://github.com/hyeonbinnn/piece-of-cake/assets/117449788/d250be3c-abcf-4ef8-856b-a7467062b871) |
<br>

| ì•„ì´í…œ íšë“ |  ì¥ë°”êµ¬ë‹ˆ ì´ˆê¸°í™”  |
| :---------: | :---------: |
| ![íšë“](https://github.com/hyeonbinnn/piece-of-cake/assets/117449788/c5031ece-3970-4af3-8d21-87f2d86ca734) | ![ì´ˆê¸°í™”](https://github.com/hyeonbinnn/piece-of-cake/assets/117449788/706ab06e-33ef-4872-aa0a-5b93b6b92ef1) |
<br>

|  ê±°ìŠ¤ë¦„ëˆ ë°˜í™˜  |  404 ì—ëŸ¬  |
| :---------: | :---------: |
| ![ë°˜í™˜](https://github.com/hyeonbinnn/piece-of-cake/assets/117449788/db826a62-61dc-4bc0-b385-770ac68bb4d3) | ![ì—ëŸ¬](https://github.com/hyeonbinnn/piece-of-cake/assets/117449788/d991c250-534d-45d9-8960-bb1f2dbaf3f9) |

<br>
<br>
<br>

## íŠ¸ëŸ¬ë¸” ìŠˆíŒ…
### 1. ìƒíƒœ ê´€ë¦¬ ê°œì„ 
ì´ê¸ˆì•¡ì„ ê³„ì‚°í•  ë•Œ, `calculateTotalPrice` í•¨ìˆ˜ë¥¼ ì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œ ì§ì ‘ í˜¸ì¶œí•˜ê³ , `useRecoilState` í›…ì„ í†µí•´ ìƒíƒœ ì €ì¥ì†Œì˜ `totalCartItemState` ìƒíƒœë¥¼ ê°€ì ¸ì™€ì„œ ì‚¬ìš©í•˜ê³  ìˆë‹¤.

í•˜ì§€ë§Œ ì´ëŠ” ì»´í¬ë„ŒíŠ¸ ë‚´ì— ë¡œì§ì´ ì„ì—¬ ë³µì¡ì„±ì´ ì¦ê°€í•˜ê³ , ìƒíƒœ ì—…ë°ì´íŠ¸ì™€ ê°™ì€ ë‹¤ë¥¸ ë¶€ë¶„ì— ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆë‹¤!

#### [ ë³€ê²½ ì „ ]
```tsx
// TotalCart.tsx
const TotalCart = () => {
  const [cartItem, setCartItem] = useRecoilState(totalCartItemState);

  const calculateTotalPrice = (): number => {
    return cartItem.reduce(
      (total: number, item: SelectedCakeItem) => total + item.cost * item.quantity,
      0
    );
  };
}

...

return (
  <>
    <S.TotalPrice>ì´ê¸ˆì•¡ : {calculateTotalPrice().toLocaleString()}ì›</S.TotalPrice>
  </>
  )
}
```
<br>

ë”°ë¼ì„œ ì´ê¸ˆì•¡ ê³„ì‚°í•˜ëŠ” ë¶€ë¶„ì„ ì…€ë ‰í„°ë¥¼ ì‚¬ìš©í•´ ìƒíƒœ ê´€ë¦¬ ë¡œì§ì—ì„œ ë¶„ë¦¬ì‹œì¼œ ì»´í¬ë„ŒíŠ¸ëŠ” UIì—ë§Œ ì§‘ì¤‘í•˜ê³ , ì„ íƒìëŠ” ë°ì´í„°ì˜ ê³„ì‚°ê³¼ ì²˜ë¦¬ì— ì§‘ì¤‘í•  ìˆ˜ ìˆë„ë¡ í–ˆë‹¤.
```ts
// selector.ts
export const totalPriceSelector = selector<number>({
  key: 'totalPriceSelector',
  get: ({ get }) => {
    const cartItems: SelectedCakeItem[] = get(totalCartItemState);
    return cartItems.reduce(
      (total: number, item: SelectedCakeItem): number => total + item.cost * item.quantity,
      0
    );
  },
});
```
<br>

`useRecoilValue` í›…ì„ í†µí•´ ì…€ë ‰í„°ì—ì„œ ë§Œë“  `totalPriceSelector`ë¥¼ ê°€ì ¸ì™€ì„œ `totalPrice` ë³€ìˆ˜ì— ì €ì¥í•´ì„œ ì‚¬ìš©í•˜ë©´ ì½”ë“œê°€ ê°„ê²°í•´ì§€ê³ , ìœ ì§€ë³´ìˆ˜ì— ìš©ì´í•´ì§„ë‹¤!

#### [ ë³€ê²½ í›„ ]
```tsx
// TotalCart.tsx
const TotalCart = () => {
  const [cartItem, setCartItem] = useRecoilState(totalCartItemState);
  const totalPrice = useRecoilValue(totalPriceSelector);

...

return (
  <>
    <S.TotalPrice>ì´ê¸ˆì•¡ : {totalPrice.toLocaleString()}ì›</S.TotalPrice>
  </>
  )
}
```
<br>
<br>

### 2. ì´ˆê¸°í™” ì‹œ, ì”ì•¡ í•©ì‚° ì˜¤ë¥˜
ì¥ë°”êµ¬ë‹ˆ ì´ˆê¸°í™” ë²„íŠ¼ì„ í´ë¦­í•  ë•Œ, `cartItemRefresh` í•¨ìˆ˜ë¥¼ í†µí•´ ì¥ë°”êµ¬ë‹ˆì— ìˆëŠ” ì•„ì´í…œë“¤ì„ ì´ˆê¸°í™”ì‹œí‚¤ë©° `useRecoilState` í›…ì„ í†µí•´ ìƒíƒœ ì €ì¥ì†Œì˜ `totalCartItemState` ìƒíƒœë¥¼ ê°€ì ¸ì™€ì„œ`setCartItem`ì„ ì—…ë°ì´íŠ¸í•˜ê³  ìˆë‹¤.

ì´ˆê¸°í™”ê°€ ë˜ë©´ì„œ ì´ê¸ˆì•¡ì´ ë‹¤ì‹œ ì”ì•¡ê³¼ í•©ì‚°ë˜ì–´ ê³„ì‚°ë˜ì–´ì•¼ í•˜ëŠ”ë°, ì¥ë°”êµ¬ë‹ˆë§Œ ì´ˆê¸°í™”ê°€ ì´ë£¨ì–´ì§€ê³  ìˆë‹¤!

#### [ ë³€ê²½ ì „ ]
```tsx
// TotalCart.tsx
const TotalCart = () => {
  const [cartItem, setCartItem] = useRecoilState(totalCartItemState);

  const cartItemRefresh = (): void => {
    setCartItem([]);
  };

...

return (
  <>
    <S.RefreshBtn onClick={cartItemRefresh} />
  </>
  )
}
```
<br>

ë”°ë¼ì„œ ì¥ë°”êµ¬ë‹ˆë¥¼ ì´ˆê¸°í™”í•œ ë’¤, ì´ê¸ˆì•¡ê³¼ ì†Œì§€ê¸ˆì„ ë”í•´ì£¼ëŠ” ê°’ì„ ê³„ì‚°í•´ì•¼í•˜ê¸° ë•Œë¬¸ì—, ì…€ë ‰í„°ì—ì„œ ì´ê¸ˆì•¡ + ì”ì•¡ì„ ê³„ì‚°í•˜ëŠ” ì„ íƒì `totalPriceAmountSelector`ë¥¼ ë§Œë“¤ì—ˆë‹¤.
```ts
// selector.ts
export const totalPriceAmountSelector = selector<number>({
  key: 'totalPriceAmountSelector',
  get: ({ get }) => {
    const cartItems = get(totalPriceSelector);
    const balance = get(balanceState);
    return cartItems + balance;
  },
});
```
<br>

ê·¸ë¦¬ê³  `cartItemRefresh` í•¨ìˆ˜ì—ì„œ `useSetRecoilState` í›…ì„ í†µí•´ ìƒíƒœ ì €ì¥ì†Œì—ì„œ ì”ì•¡ ê´€ë ¨ `balanceState` ìƒíƒœë¥¼ ê°€ì ¸ì˜¨ë‹¤. 

ê·¸ ë‹¤ìŒ, `useRecoilValue` í›…ì„ í†µí•´ `totalPriceAmountSelector` ì„ íƒìë¥¼ `totalPriceBalance` ë³€ìˆ˜ì— ì €ì¥í•˜ê³ , `setBalance`ë¥¼ í†µí•´ í•´ë‹¹ ë³€ìˆ˜ë¥¼ ì—…ë°ì´íŠ¸ í•˜ë©´ ëœë‹¤!

ì´ë ‡ê²Œ í•˜ë©´ ì¥ë°”êµ¬ë‹ˆë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ë™ì‹œì— ì”ì•¡ë„ í•¨ê»˜ ì—…ë°ì´íŠ¸ëœë‹¤! ğŸ˜‰

#### [ ë³€ê²½ í›„ ]
```tsx
// TotalCart.tsx
const TotalCart = () => {
  const [cartItem, setCartItem] = useRecoilState(totalCartItemState);
  const totalPriceBalance = useRecoilValue(totalPriceAmountSelector);
  const setBalance = useSetRecoilState(balanceState);

  const cartItemRefresh = (): void => {
    // 1. ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì¥ë°”êµ¬ë‹ˆ ì´ˆê¸°í™”
    // 2. ì”ì•¡ === ì´ê¸ˆì•¡ + ì”ì•¡
    setCartItem([]);
    setBalance(totalPriceBalance);
  };

...

return (
  <>
    <S.RefreshBtn onClick={cartItemRefresh} />
  </>
  )
}
```
<br>
<br>

### âœ”ï¸ ë³€ê²½ ì»´í¬ë„ŒíŠ¸ ì „ì²´ ì½”ë“œ
#### [ ë³€ê²½ ì „ ] 
```tsx
import * as S from './TotalCart.style';
import Wallet from '../Wallet/Wallet';
import ManualModal from '../Modal/ManualModal';
import useModal from '../../hooks/useModal';
import { SelectedCakeItem, totalCartItemState } from '../../state/atoms/atoms';
import { useRecoilState } from 'recoil';

const TotalCart = () => {
  const { isModalOpen, openModal, closeModal } = useModal();
  const [cartItem, setCartItem] = useRecoilState(totalCartItemState);

  const calculateTotalPrice = (): number => {
    return cartItem.reduce(
      (total: number, item: SelectedCakeItem) => total + item.cost * item.quantity,
      0
    );
  };

  const cartItemRefresh = (): void => {
    setCartItem([]);
  };
  return (
    <>
      <Wallet />
      <S.Wrapper>
        <S.H2>ì¥ë°”êµ¬ë‹ˆ</S.H2>
        <S.GetCartUl>
          {cartItem.map((item: SelectedCakeItem) => (
            <S.GetCartLi>
              <S.GetCartImg src={item.img} alt={item.name} />
              <S.GetCartName>{item.name}</S.GetCartName>
              <S.GetCartStrong>{item.quantity}</S.GetCartStrong>
            </S.GetCartLi>
          ))}
        </S.GetCartUl>
        <S.BottomBox>
          <S.ButtonBox>
            <S.ManualBtn onClick={openModal}>ì„¤ëª…ì„œ</S.ManualBtn>
            <S.RefreshBtn onClick={cartItemRefresh} />
          </S.ButtonBox>
          <S.TotalPrice>ì´ê¸ˆì•¡ : {calculateTotalPrice().toLocaleString()}ì›</S.TotalPrice>
        </S.BottomBox>
      </S.Wrapper>
      {isModalOpen && <ManualModal onClose={closeModal} />}
    </>
  );
};

export default TotalCart;
```
<br>

#### [ ë³€ê²½ í›„ ]
```ts
// selector.ts
import { selector } from 'recoil';
import { balanceState, SelectedCakeItem, totalCartItemState } from '../atoms/atoms';

// ì´ê¸ˆì•¡ ê³„ì‚°
export const totalPriceSelector = selector<number>({
  key: 'totalPriceSelector',
  get: ({ get }) => {
    const cartItems: SelectedCakeItem[] = get(totalCartItemState);
    return cartItems.reduce(
      (total: number, item: SelectedCakeItem): number => total + item.cost * item.quantity,
      0
    );
  },
});

// ì´ê¸ˆì•¡ + ì”ì•¡
export const totalPriceAmountSelector = selector<number>({
  key: 'totalPriceAmountSelector',
  get: ({ get }) => {
    const cartItems = get(totalPriceSelector);
    const balance = get(balanceState);
    return cartItems + balance;
  },
});
```

<br>

```tsx
import * as S from './TotalCart.style';
import Wallet from '../Wallet/Wallet';
import ManualModal from '../Modal/ManualModal';
import useModal from '../../hooks/useModal';
import { balanceState, SelectedCakeItem, totalCartItemState } from '../../state/atoms/atoms';
import { useRecoilState, useRecoilValue, useSetRecoilState } from 'recoil';
import { totalPriceAmountSelector, totalPriceSelector } from '../../state/selectors/selector';

const TotalCart = () => {
  const { isModalOpen, openModal, closeModal } = useModal();
  const [cartItem, setCartItem] = useRecoilState(totalCartItemState);
  const totalPrice = useRecoilValue(totalPriceSelector);
  const totalPriceBalance = useRecoilValue(totalPriceAmountSelector);
  const setBalance = useSetRecoilState(balanceState);

  const cartItemRefresh = (): void => {
    // 1. ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì¥ë°”êµ¬ë‹ˆ ì´ˆê¸°í™”
    // 2. ì”ì•¡ === ì´ê¸ˆì•¡ + ì”ì•¡
    setCartItem([]);
    setBalance(totalPriceBalance);
  };
  return (
    <>
      <Wallet />
      <S.Wrapper>
        <S.H2>ì¥ë°”êµ¬ë‹ˆ</S.H2>
        <S.GetCartUl>
          {cartItem.map((item: SelectedCakeItem) => (
            <S.GetCartLi>
              <S.GetCartImg src={item.img} alt={item.name} />
              <S.GetCartName>{item.name}</S.GetCartName>
              <S.GetCartStrong>{item.quantity}</S.GetCartStrong>
            </S.GetCartLi>
          ))}
        </S.GetCartUl>
        <S.BottomBox>
          <S.ButtonBox>
            <S.ManualBtn onClick={openModal}>ì„¤ëª…ì„œ</S.ManualBtn>
            <S.RefreshBtn onClick={cartItemRefresh} />
          </S.ButtonBox>
          <S.TotalPrice>ì´ê¸ˆì•¡ : {totalPrice.toLocaleString()}ì›</S.TotalPrice>
        </S.BottomBox>
      </S.Wrapper>
      {isModalOpen && <ManualModal onClose={closeModal} />}
    </>
  );
};

export default TotalCart;
```


<br>
<br>
<br>
